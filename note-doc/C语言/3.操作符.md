## 操作符

### 算术操作符

```c
+ - * /
```

- 既然适合整数又适合浮点数。

```c
%
```

- 只接受两个整数（从左到右）的取余运算。

### 移位操作符

左移位

- 值最左边的几位被丢弃，右边多出来的几位以 0 补足。

```c
<<
```

右移位

- 值最右边的几位被丢弃，左边多出的几位
  - 逻辑右移：左边多出来的几位用 0 补足。
  - 算术右移：左边多出来的几位由原先值符号位决定，符号位为 1 就 1 补足，符号位为 0 用 0 补足，这能保证原先值的正负形式。

```c
>>
```

- 操作符的<u>左操作数的值</u>将移动<u>右操作数指定的位数</u>。

### 位操作符

- 对它们的操作数的各个位执行 AND、OR 和 XOR (异或)，要求两个操作数都是整数。

```
AND：两个位 1 为 1 , 否则结果为 1 。
OR：两个位 0 为 0 , 否则结果为 1 。
XOR：两个位不同结果为 1 , 两个位相同，结果为 0 。
```

### 赋值

- 用一个等号表示，赋值操作符的结合性是（求值的顺序）从右到左。

- 把<u>右操作数</u>的值存储在<u>左操作数</u>指定的位置。

#### 复合赋值符

```c
a += expression;
// 功能相当于
a = a + ( expression ); 
```

- 把 expression 的值加到 a，先计算确定 expression 的值最后再计算加法。

### 单目操作符

- 单目：只接受一个操作数的操作符。

```c
！ ++ - & sizeof
~  -- + * (类型)
```

- `!`：执行逻辑取反操作；实际上是产生一个整数结果，0 或 1。

- `~` ：求补操作，操作数中所有原先的 1 位变为 0，所有原先的 0 位变为 1。

- `&`：产生它的操作数的地址。

- `*`：间接访问操作符，它与指针一起使用，用于访问指针所指向的值。

- `sizeof`：判断操作数的类型长度，以字节为单位。

  ```
  sizeof( int ); // 返回整数变量的字节数,(结果取决于你所使用的环境)
  sizeof x; // 返回变量 x 所占据的字节数。
  sizeof( 数组名 ); // 返回该数组的长度，以字节为单位。
  // 括号在表达式中总是合法的，判断表达式的长度并不需要对表达式求值。
  ```

- (类型)：强制类型转换(cast)，显式的把表达式的值转换为另外的类型。

- `++` 和 `--`：这两个操作符都是复制一份变量值的拷贝，前缀使用操作符在进行复制之前增加变量的值，后缀使用操作符是在复制之后才增加变量的值。操作符的运算的结果值就是变量值的拷贝，而不是修改后的值。

  ```
  ++a = 10;
  // 这个语句是错误的，++a的结果是a值的拷贝，而不是变量本身，无法进行变量赋值操作。
  ```

### 关系操作符

```c
> >= < <= != ==
```

### 逻辑操作符

```c
&& ||
// expression && expression
// expression || expression
    
a > 5 && a < 10
// 相当于下面 && 操作符的优先级很低
( a > 5 ) && ( a < 10 )
```

-  短路求值：
  - 求值的过程是从左到右的，如果左边无法确定整个测试表达式的值才会继续计算右边，否则先计算左边可以确定便不再计算右边的值（跳过计算）。

### 条件操作符

```c
expression1 ? expression2 : expression3
```

- 首先计算 expression1 如果值为 真（非零值），那么整个表达式的值为 expression2，如果整个表达式的值为假（零值），那么整个表达式的值为 expression3，expression2的值不会进行求值了。

### 逗号操作符

- 逗号操作符讲两个或三个表达式分割开来，这些表达式自左向右逐个进行求值，整个逗号表达式的值就是最后一个表达式的值。最后一个表达式前面表达式求的值如果没有拷贝保存，将直接进行丢弃。

```c
// 在循环开始前和循环体的最后都各有一次这两个语句的拷贝。
// 这两条独立的语句用于获得在循环表达式中进行测试是否继续循环的值。
a = get_value();
count_value(a);
while( a > 0 ){
	
	a = get_value();
	count_value();
}

// 使用逗号表达式可以改写这里重复出现的语句（冗余的语句）
// 使得循环中用于获得下一个值的语句只出现一次。
while(a = get_value(), count_value( a ), a > 0 ){
	...
}
while( count_value( a = get_value() ), a > 0 ){
	...
}
```

## 表达式求值

### 隐式类型转换

### 算术转换

### 操作符的优先级和求值顺序

> 表达式 由标识符、操作符、说明符 组成的程序代码语句。